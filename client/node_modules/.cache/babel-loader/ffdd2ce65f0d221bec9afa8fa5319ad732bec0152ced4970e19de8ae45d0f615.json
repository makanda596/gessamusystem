{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{var _details$user,_details$user2,_details$user3,_details$user4,_details$user5,_details$user6,_details$user7;const[details,setDetails]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");// Function to determine greeting based on time\nconst getGreeting=()=>{const hour=new Date().getHours();if(hour<12)return\"Good Morning\";if(hour<18)return\"Good Afternoon\";return\"Good Evening\";};useEffect(()=>{const fetchDetails=async()=>{try{const response=await axios.get(\"https://gessamubackend.onrender.com/auth/profile\",{withCredentials:true,headers:{\"Content-Type\":\"application/json\"}});setDetails(response.data);}catch(err){setError(\"Failed to fetch profile details\");}finally{setLoading(false);}};fetchDetails();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 p-6 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl w-full bg-white p-8 rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-center mb-6 text-indigo-700\",children:[getGreeting(),\", Welcome to Gessamu Portal\"]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-t-red-600 border-b-green-600 border-l-white border-r-white rounded-full animate-spin\"})}):error?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-6 rounded-xl shadow-md mb-6 flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:details===null||details===void 0?void 0:(_details$user=details.user)===null||_details$user===void 0?void 0:_details$user.avatar,alt:\"Profile\",className:\"w-20 h-20 rounded-full border-4 border-white\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold\",children:[details===null||details===void 0?void 0:(_details$user2=details.user)===null||_details$user2===void 0?void 0:_details$user2.firstName,\" \",details===null||details===void 0?void 0:(_details$user3=details.user)===null||_details$user3===void 0?void 0:_details$user3.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg\",children:[\"Admission No: \",(details===null||details===void 0?void 0:(_details$user4=details.user)===null||_details$user4===void 0?void 0:_details$user4.admNo)||\"N/A\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg\",children:[\"Email: \",(details===null||details===void 0?void 0:(_details$user5=details.user)===null||_details$user5===void 0?void 0:_details$user5.email)||\"N/A\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg\",children:[\"Year: \",(details===null||details===void 0?void 0:(_details$user6=details.user)===null||_details$user6===void 0?void 0:_details$user6.year)||\"N/A\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg\",children:[\"Phone: \",(details===null||details===void 0?void 0:(_details$user7=details.user)===null||_details$user7===void 0?void 0:_details$user7.phoneNumber)||\"N/A\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[{title:\"Tasks Completed\",count:12,color:\"from-green-400 to-green-200\"},{title:\"Projects Submitted\",count:8,color:\"from-blue-400 to-blue-200\"},{title:\"Upcoming Deadlines\",count:3,color:\"from-yellow-400 to-yellow-200\"},{title:\"New Messages\",count:0,color:\"from-red-400 to-red-200\"}].map((stat,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-tr \".concat(stat.color,\" p-6 rounded-xl shadow-md text-center\"),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:stat.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-extrabold\",children:stat.count})]},index))})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","axios","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Dashboard","_details$user","_details$user2","_details$user3","_details$user4","_details$user5","_details$user6","_details$user7","details","setDetails","loading","setLoading","error","setError","getGreeting","hour","Date","getHours","fetchDetails","response","get","withCredentials","headers","data","err","className","children","src","user","avatar","alt","firstName","lastName","admNo","email","year","phoneNumber","title","count","color","map","stat","index","concat"],"sources":["C:/Users/user/Desktop/GIS/client/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Dashboard = () => {\r\n  const [details, setDetails] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Function to determine greeting based on time\r\n  const getGreeting = () => {\r\n    const hour = new Date().getHours();\r\n    if (hour < 12) return \"Good Morning\";\r\n    if (hour < 18) return \"Good Afternoon\";\r\n    return \"Good Evening\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchDetails = async () => {\r\n      try {\r\n        const response = await axios.get(\"https://gessamubackend.onrender.com/auth/profile\", {\r\n          withCredentials: true,\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n        });\r\n        setDetails(response.data);\r\n      } catch (err) {\r\n        setError(\"Failed to fetch profile details\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchDetails();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 p-6 flex items-center justify-center\">\r\n      <div className=\"max-w-4xl w-full bg-white p-8 rounded-2xl shadow-lg\">\r\n        {/* Dynamic Greeting */}\r\n        <h1 className=\"text-2xl font-bold text-center mb-6 text-indigo-700\">\r\n          {getGreeting()}, Welcome to Gessamu Portal\r\n        </h1>\r\n\r\n        {loading ? (\r\n          <div className=\"flex justify-center\">\r\n            <div className=\"w-16 h-16 border-4 border-t-red-600 border-b-green-600 border-l-white border-r-white rounded-full animate-spin\"></div>\r\n          </div>\r\n        ) : error ? (\r\n          <p className=\"text-center text-red-500\">{error}</p>\r\n        ) : (\r\n          <>\r\n            {/* Profile Section */}\r\n            <div className=\"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-6 rounded-xl shadow-md mb-6 flex items-center space-x-6\">\r\n              <img src={details?.user?.avatar} alt=\"Profile\" className=\"w-20 h-20 rounded-full border-4 border-white\" />\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold\">{details?.user?.firstName} {details?.user?.lastName}</h2>\r\n                <p className=\"text-lg\">Admission No: {details?.user?.admNo || \"N/A\"}</p>\r\n                <p className=\"text-lg\">Email: {details?.user?.email || \"N/A\"}</p>\r\n                <p className=\"text-lg\">Year: {details?.user?.year || \"N/A\"}</p>\r\n                <p className=\"text-lg\">Phone: {details?.user?.phoneNumber || \"N/A\"}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Dashboard Stats */}\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              {[\r\n                { title: \"Tasks Completed\", count: 12, color: \"from-green-400 to-green-200\" },\r\n                { title: \"Projects Submitted\", count: 8, color: \"from-blue-400 to-blue-200\" },\r\n                { title: \"Upcoming Deadlines\", count: 3, color: \"from-yellow-400 to-yellow-200\" },\r\n                { title: \"New Messages\", count: 0, color: \"from-red-400 to-red-200\" },\r\n              ].map((stat, index) => (\r\n                <div key={index} className={`bg-gradient-to-tr ${stat.color} p-6 rounded-xl shadow-md text-center`}>\r\n                  <h3 className=\"text-xl font-semibold\">{stat.title}</h3>\r\n                  <p className=\"text-3xl font-extrabold\">{stat.count}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}