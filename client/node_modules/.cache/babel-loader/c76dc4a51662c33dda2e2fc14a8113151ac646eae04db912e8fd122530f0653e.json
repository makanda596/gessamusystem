{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GetWeekly=()=>{const[projects,setProjects]=useState([]);const[error,setError]=useState('');const[loading,setLoading]=useState(true);const fetchProjects=async()=>{setLoading(true);setError('');try{const response=await axios.get('http://localhost:5000/projects/getweekly-projects');if(response.data.length>0){setProjects(response.data);}else{setError('No weekly projects found.');}}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to fetch projects.');}finally{setLoading(false);}};useEffect(()=>{fetchProjects();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen w-full  p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-center text-blue-700 mb-8\",children:\"Weekly Projects\"}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500 font-medium\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\",children:projects.map((project,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md hover:shadow-lg transition-shadow rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold text-gray-800 mb-2\",children:project.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Trainer:\"}),\" \",project.trainer]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",project.description.length>100?\"\".concat(project.description.slice(0,100),\"...\"):project.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reference:\"}),\" \",project.reference||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(project.date).toLocaleDateString('en-GB',{year:'numeric',month:'long',day:'numeric'})]}),project.doc&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"a\",{href:project.doc,target:\"_blank\",rel:\"noopener noreferrer\",className:\"inline-block bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition\",children:\"View Document\"})})]})},index))})]});};export default GetWeekly;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","GetWeekly","projects","setProjects","error","setError","loading","setLoading","fetchProjects","response","get","data","length","_error$response","_error$response$data","message","className","children","map","project","index","title","trainer","description","concat","slice","reference","Date","date","toLocaleDateString","year","month","day","doc","href","target","rel"],"sources":["C:/Users/user/Desktop/GIS/client/src/pages/ADMIN/GetWeekly.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst GetWeekly = () => {\r\n    const [projects, setProjects] = useState([]);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchProjects = async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/projects/getweekly-projects');\r\n            if (response.data.length > 0) {\r\n                setProjects(response.data);\r\n            } else {\r\n                setError('No weekly projects found.');\r\n            }\r\n        } catch (error) {\r\n            setError(error.response?.data?.message || 'Failed to fetch projects.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchProjects();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full  p-8\">\r\n            <h2 className=\"text-4xl font-bold text-center text-blue-700 mb-8\">Weekly Projects</h2>\r\n\r\n            {loading && (\r\n                <div className=\"flex justify-center items-center\">\r\n                    <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-500\"></div>\r\n                </div>\r\n            )}\r\n\r\n            {error && <p className=\"text-center text-red-500 font-medium\">{error}</p>}\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                {projects.map((project, index) => (\r\n                    <div\r\n                        key={index}\r\n                        className=\"bg-white shadow-md hover:shadow-lg transition-shadow rounded-lg overflow-hidden\"\r\n                    >\r\n                        <div className=\"p-6\">\r\n                            <h3 className=\"text-2xl font-semibold text-gray-800 mb-2\">{project.title}</h3>\r\n                            <p className=\"text-gray-600\"><strong>Trainer:</strong> {project.trainer}</p>\r\n                        <p className=\"text-gray-600 mt-2\">\r\n                                <strong>Description:</strong> {project.description.length > 100\r\n                                    ? `${project.description.slice(0, 100)}...`\r\n                                    : project.description}\r\n                            </p>\r\n\r\n                            <p className=\"text-gray-600 mt-2\"><strong>Reference:</strong> {project.reference || 'N/A'}</p>\r\n                            <p className=\"text-gray-600 mt-2\">\r\n                                <strong>Date:</strong> {new Date(project.date).toLocaleDateString('en-GB', {\r\n                                    year: 'numeric',\r\n                                    month: 'long',\r\n                                    day: 'numeric',\r\n                                })}\r\n                            </p>\r\n                            {project.doc && (\r\n                                <div className=\"mt-4\">\r\n                                    <a\r\n                                        href={project.doc}\r\n                                        target=\"_blank\"\r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"inline-block bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition\"\r\n                                    >\r\n                                        View Document\r\n                                    </a>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GetWeekly;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}