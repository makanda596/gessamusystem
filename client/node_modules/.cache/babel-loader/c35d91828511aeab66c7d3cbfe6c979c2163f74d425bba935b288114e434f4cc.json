{"ast":null,"code":"import React,{useState}from'react';import{FiUser,FiMail,FiLock,FiHash,FiPhone}from'react-icons/fi';import{useAuthStore}from'../../../src/store/auth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateUser=()=>{const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[admNo,setAdmNo]=useState('');const[email,setEmail]=useState('');const[year,setYear]=useState('');const[phoneNumber,setPhoneNumber]=useState('');const[password,setPassword]=useState('');const[loading,setLoading]=useState(false);const[showModal,setShowModal]=useState(false);// State to control the modal popup\nconst{signup}=useAuthStore();const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{await signup(firstName,lastName,admNo,year,email,phoneNumber,password);setShowModal(true);// Show success popup\nresetForm();}catch(error){console.error(error.response?error.response.data.message:'Sign up failed');}finally{setLoading(false);}};const resetForm=()=>{setFirstName('');setLastName('');setAdmNo('');setEmail('');setYear('');setPhoneNumber('');setPassword('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex items-center justify-center w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-12 rounded-2xl shadow-2xl w-full max-w-4xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-extrabold text-indigo-600 text-center mb-6\",children:\"Create User Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-center mb-8 text-lg\",children:\"Join us and start your journey with just a few clicks!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiUser,{className:\"absolute top-3 left-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:firstName,onChange:e=>setFirstName(e.target.value),className:\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"First Name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiUser,{className:\"absolute top-3 left-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:lastName,onChange:e=>setLastName(e.target.value),className:\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Last Name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiMail,{className:\"absolute top-3 left-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Email Address\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiPhone,{className:\"absolute top-3 left-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:phoneNumber,onChange:e=>setPhoneNumber(e.target.value),className:\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Phone Number\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative col-span-2\",children:[/*#__PURE__*/_jsx(FiLock,{className:\"absolute top-3 left-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\",placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-semibold\",disabled:loading,children:loading?'Creating Account...':'Sign Up'})})]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-lg text-center max-w-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-green-600 mb-4\",children:\"User Created Successfully!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-6\",children:\"Another user account has been created successfully.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(false),className:\"bg-indigo-600 text-white py-2 px-6 rounded-lg hover:bg-indigo-700 transition duration-300\",children:\"OK\"})]})})]});};export default CreateUser;","map":{"version":3,"names":["React","useState","FiUser","FiMail","FiLock","FiHash","FiPhone","useAuthStore","jsx","_jsx","jsxs","_jsxs","CreateUser","firstName","setFirstName","lastName","setLastName","admNo","setAdmNo","email","setEmail","year","setYear","phoneNumber","setPhoneNumber","password","setPassword","loading","setLoading","showModal","setShowModal","signup","handleSubmit","e","preventDefault","resetForm","error","console","response","data","message","className","children","onSubmit","type","value","onChange","target","placeholder","required","disabled","onClick"],"sources":["C:/Users/user/Desktop/GIS/client/src/pages/ADMIN/CreateUser.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { FiUser, FiMail, FiLock, FiHash, FiPhone } from 'react-icons/fi';\r\nimport { useAuthStore } from '../../../src/store/auth';\r\n\r\nconst CreateUser = () => {\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [admNo, setAdmNo] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [year, setYear] = useState('');\r\n    const [phoneNumber, setPhoneNumber] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [showModal, setShowModal] = useState(false);  // State to control the modal popup\r\n\r\n    const { signup } = useAuthStore();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            await signup(firstName, lastName, admNo, year, email, phoneNumber, password);\r\n            setShowModal(true);  // Show success popup\r\n            resetForm();\r\n        } catch (error) {\r\n            console.error(error.response ? error.response.data.message : 'Sign up failed');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setFirstName('');\r\n        setLastName('');\r\n        setAdmNo('');\r\n        setEmail('');\r\n        setYear('');\r\n        setPhoneNumber('');\r\n        setPassword('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center w-full\">\r\n            <div className=\"bg-white p-12 rounded-2xl shadow-2xl w-full max-w-4xl\">\r\n                <h1 className=\"text-5xl font-extrabold text-indigo-600 text-center mb-6\">Create User Account</h1>\r\n                <p className=\"text-gray-600 text-center mb-8 text-lg\">Join us and start your journey with just a few clicks!</p>\r\n\r\n                <form onSubmit={handleSubmit} className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    {/* First Name */}\r\n                    <div className=\"relative\">\r\n                        <FiUser className=\"absolute top-3 left-3 text-gray-400\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            value={firstName}\r\n                            onChange={(e) => setFirstName(e.target.value)}\r\n                            className=\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n                            placeholder=\"First Name\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Last Name */}\r\n                    <div className=\"relative\">\r\n                        <FiUser className=\"absolute top-3 left-3 text-gray-400\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            value={lastName}\r\n                            onChange={(e) => setLastName(e.target.value)}\r\n                            className=\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n                            placeholder=\"Last Name\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n            \r\n                    {/* Email Address */}\r\n                    <div className=\"relative\">\r\n                        <FiMail className=\"absolute top-3 left-3 text-gray-400\" />\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n                            placeholder=\"Email Address\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"relative\">\r\n                        <FiPhone className=\"absolute top-3 left-3 text-gray-400\" />\r\n                        <input\r\n                            type=\"number\"\r\n                            value={phoneNumber}\r\n                            onChange={(e) => setPhoneNumber(e.target.value)}\r\n                            className=\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n                            placeholder=\"Phone Number\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Password */}\r\n                    <div className=\"relative col-span-2\">\r\n                        <FiLock className=\"absolute top-3 left-3 text-gray-400\" />\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"pl-10 w-full p-3 border rounded-lg focus:ring-indigo-500 focus:border-indigo-500\"\r\n                            placeholder=\"Password\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"col-span-2\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300 font-semibold\"\r\n                            disabled={loading}\r\n                        >\r\n                            {loading ? 'Creating Account...' : 'Sign Up'}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n            {/* Modal for success message */}\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\r\n                    <div className=\"bg-white p-8 rounded-lg shadow-lg text-center max-w-lg\">\r\n                        <h2 className=\"text-3xl font-bold text-green-600 mb-4\">User Created Successfully!</h2>\r\n                        <p className=\"text-gray-700 mb-6\">Another user account has been created successfully.</p>\r\n                        <button\r\n                            onClick={() => setShowModal(false)}\r\n                            className=\"bg-indigo-600 text-white py-2 px-6 rounded-lg hover:bg-indigo-700 transition duration-300\"\r\n                        >\r\n                            OK\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateUser;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,CAAEC,OAAO,KAAQ,gBAAgB,CACxE,OAASC,YAAY,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACoB,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACsB,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACwB,QAAQ,CAAEC,WAAW,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC0B,OAAO,CAAEC,UAAU,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC4B,SAAS,CAAEC,YAAY,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAAG;AAEpD,KAAM,CAAE8B,MAAO,CAAC,CAAGxB,YAAY,CAAC,CAAC,CAEjC,KAAM,CAAAyB,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBN,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAG,MAAM,CAAClB,SAAS,CAAEE,QAAQ,CAAEE,KAAK,CAAEI,IAAI,CAAEF,KAAK,CAAEI,WAAW,CAAEE,QAAQ,CAAC,CAC5EK,YAAY,CAAC,IAAI,CAAC,CAAG;AACrBK,SAAS,CAAC,CAAC,CACf,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACE,QAAQ,CAAGF,KAAK,CAACE,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAG,gBAAgB,CAAC,CAClF,CAAC,OAAS,CACNZ,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAED,KAAM,CAAAO,SAAS,CAAGA,CAAA,GAAM,CACpBrB,YAAY,CAAC,EAAE,CAAC,CAChBE,WAAW,CAAC,EAAE,CAAC,CACfE,QAAQ,CAAC,EAAE,CAAC,CACZE,QAAQ,CAAC,EAAE,CAAC,CACZE,OAAO,CAAC,EAAE,CAAC,CACXE,cAAc,CAAC,EAAE,CAAC,CAClBE,WAAW,CAAC,EAAE,CAAC,CACnB,CAAC,CAED,mBACIf,KAAA,QAAK8B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACjE/B,KAAA,QAAK8B,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eAClEjC,IAAA,OAAIgC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACjGjC,IAAA,MAAGgC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,wDAAsD,CAAG,CAAC,cAEhH/B,KAAA,SAAMgC,QAAQ,CAAEX,YAAa,CAACS,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAE3E/B,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBjC,IAAA,CAACP,MAAM,EAACuC,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC1DhC,IAAA,UACImC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEhC,SAAU,CACjBiC,QAAQ,CAAGb,CAAC,EAAKnB,YAAY,CAACmB,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC9CJ,SAAS,CAAC,kFAAkF,CAC5FO,WAAW,CAAC,YAAY,CACxBC,QAAQ,MACX,CAAC,EACD,CAAC,cAGNtC,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBjC,IAAA,CAACP,MAAM,EAACuC,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC1DhC,IAAA,UACImC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE9B,QAAS,CAChB+B,QAAQ,CAAGb,CAAC,EAAKjB,WAAW,CAACiB,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC7CJ,SAAS,CAAC,kFAAkF,CAC5FO,WAAW,CAAC,WAAW,CACvBC,QAAQ,MACX,CAAC,EACD,CAAC,cAINtC,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBjC,IAAA,CAACN,MAAM,EAACsC,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC1DhC,IAAA,UACImC,IAAI,CAAC,OAAO,CACZC,KAAK,CAAE1B,KAAM,CACb2B,QAAQ,CAAGb,CAAC,EAAKb,QAAQ,CAACa,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC1CJ,SAAS,CAAC,kFAAkF,CAC5FO,WAAW,CAAC,eAAe,CAC3BC,QAAQ,MACX,CAAC,EACD,CAAC,cAENtC,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBjC,IAAA,CAACH,OAAO,EAACmC,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC3DhC,IAAA,UACImC,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAEtB,WAAY,CACnBuB,QAAQ,CAAGb,CAAC,EAAKT,cAAc,CAACS,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAChDJ,SAAS,CAAC,kFAAkF,CAC5FO,WAAW,CAAC,cAAc,CAC1BC,QAAQ,MACX,CAAC,EACD,CAAC,cAGNtC,KAAA,QAAK8B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChCjC,IAAA,CAACL,MAAM,EAACqC,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC1DhC,IAAA,UACImC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEpB,QAAS,CAChBqB,QAAQ,CAAGb,CAAC,EAAKP,WAAW,CAACO,CAAC,CAACc,MAAM,CAACF,KAAK,CAAE,CAC7CJ,SAAS,CAAC,kFAAkF,CAC5FO,WAAW,CAAC,UAAU,CACtBC,QAAQ,MACX,CAAC,EACD,CAAC,cAENxC,IAAA,QAAKgC,SAAS,CAAC,YAAY,CAAAC,QAAA,cACvBjC,IAAA,WACImC,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,2GAA2G,CACrHS,QAAQ,CAAEvB,OAAQ,CAAAe,QAAA,CAEjBf,OAAO,CAAG,qBAAqB,CAAG,SAAS,CACxC,CAAC,CACR,CAAC,EACJ,CAAC,EACN,CAAC,CAGLE,SAAS,eACNpB,IAAA,QAAKgC,SAAS,CAAC,uEAAuE,CAAAC,QAAA,cAClF/B,KAAA,QAAK8B,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eACnEjC,IAAA,OAAIgC,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,4BAA0B,CAAI,CAAC,cACtFjC,IAAA,MAAGgC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,qDAAmD,CAAG,CAAC,cACzFjC,IAAA,WACI0C,OAAO,CAAEA,CAAA,GAAMrB,YAAY,CAAC,KAAK,CAAE,CACnCW,SAAS,CAAC,2FAA2F,CAAAC,QAAA,CACxG,IAED,CAAQ,CAAC,EACR,CAAC,CACL,CACR,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAA9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}