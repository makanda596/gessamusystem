{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostTask=()=>{const[task,setTask]=useState('');const[description,setDescription]=useState('');const[date,setDate]=useState('');const[level,setLevel]=useState('');const[completed,setCompleted]=useState('false');const[successMessage,setSuccessMessage]=useState('');const[errorMessage,setErrorMessage]=useState('');const[loading,setLoading]=useState(false);const[submittedTasks,setSubmittedTasks]=useState([]);// New state to store submitted tasks\nconst handleSubmit=async e=>{e.preventDefault();setSuccessMessage('');setErrorMessage('');setLoading(true);try{const response=await axios.post('https://gessamubackend.onrender.com/task/makeTask',{task,description,date,level,completed});setSuccessMessage('Task submitted successfully!');setSubmittedTasks(prevTasks=>[...prevTasks,response.data.task]);// Add new task to state\n// Clear form fields\nsetTask('');setDescription('');setDate('');setLevel('');setCompleted('false');}catch(error){setErrorMessage('Failed to submit the task. Please try again.');}finally{setLoading(false);}};const handleInputChange=setter=>e=>{setter(e.target.value);setSuccessMessage('');setErrorMessage('');};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen w-full  flex flex-col items-center py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md w-full max-w-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-blue-600 mb-6 text-center\",children:\"Post a New Task\"}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 bg-green-100 p-4 rounded mb-4\",children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 bg-red-100 p-4 rounded mb-4\",children:errorMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"task\",className:\"block text-gray-700 font-medium mb-2\",children:\"Task Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"task\",value:task,onChange:handleInputChange(setTask),placeholder:\"Enter task name\",className:\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-gray-700 font-medium mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:description,onChange:handleInputChange(setDescription),placeholder:\"Enter task description\",className:\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",rows:\"4\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"block text-gray-700 font-medium mb-2\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",id:\"date\",value:date,onChange:handleInputChange(setDate),className:\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"level\",className:\"block text-gray-700 font-medium mb-2\",children:\"Level (1-5)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"level\",value:level,onChange:handleInputChange(setLevel),min:\"1\",max:\"5\",className:\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"completed\",className:\"block text-gray-700 font-medium mb-2\",children:\"Completed\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"completed\",value:completed,onChange:handleInputChange(setCompleted),className:\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Yes\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition\",disabled:loading,children:loading?'Submitting...':'Submit Task'})]})]})});};export default PostTask;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","PostTask","task","setTask","description","setDescription","date","setDate","level","setLevel","completed","setCompleted","successMessage","setSuccessMessage","errorMessage","setErrorMessage","loading","setLoading","submittedTasks","setSubmittedTasks","handleSubmit","e","preventDefault","response","post","prevTasks","data","error","handleInputChange","setter","target","value","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","required","rows","min","max","disabled"],"sources":["C:/Users/user/Desktop/GIS/client/src/pages/ADMIN/PostTask.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst PostTask = () => {\r\n    const [task, setTask] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [level, setLevel] = useState('');\r\n    const [completed, setCompleted] = useState('false');\r\n\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [submittedTasks, setSubmittedTasks] = useState([]);  // New state to store submitted tasks\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setSuccessMessage('');\r\n        setErrorMessage('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post('https://gessamubackend.onrender.com/task/makeTask', {\r\n                task,\r\n                description,\r\n                date,\r\n                level,\r\n                completed,\r\n            });\r\n\r\n            setSuccessMessage('Task submitted successfully!');\r\n            setSubmittedTasks((prevTasks) => [...prevTasks, response.data.task]);  // Add new task to state\r\n\r\n            // Clear form fields\r\n            setTask('');\r\n            setDescription('');\r\n            setDate('');\r\n            setLevel('');\r\n            setCompleted('false');\r\n        } catch (error) {\r\n            setErrorMessage('Failed to submit the task. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (setter) => (e) => {\r\n        setter(e.target.value);\r\n        setSuccessMessage('');\r\n        setErrorMessage('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full  flex flex-col items-center py-4\">\r\n            <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-lg mb-8\">\r\n                <h1 className=\"text-3xl font-bold text-blue-600 mb-6 text-center\">Post a New Task</h1>\r\n\r\n                {successMessage && <p className=\"text-green-600 bg-green-100 p-4 rounded mb-4\">{successMessage}</p>}\r\n                {errorMessage && <p className=\"text-red-600 bg-red-100 p-4 rounded mb-4\">{errorMessage}</p>}\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"mb-4\">\r\n                        <label htmlFor=\"task\" className=\"block text-gray-700 font-medium mb-2\">Task Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"task\"\r\n                            value={task}\r\n                            onChange={handleInputChange(setTask)}\r\n                            placeholder=\"Enter task name\"\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                        <label htmlFor=\"description\" className=\"block text-gray-700 font-medium mb-2\">Description</label>\r\n                        <textarea\r\n                            id=\"description\"\r\n                            value={description}\r\n                            onChange={handleInputChange(setDescription)}\r\n                            placeholder=\"Enter task description\"\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            rows=\"4\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                        <label htmlFor=\"date\" className=\"block text-gray-700 font-medium mb-2\">Due Date</label>\r\n                        <input\r\n                            type=\"datetime-local\"\r\n                            id=\"date\"\r\n                            value={date}\r\n                            onChange={handleInputChange(setDate)}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                        <label htmlFor=\"level\" className=\"block text-gray-700 font-medium mb-2\">Level (1-5)</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            id=\"level\"\r\n                            value={level}\r\n                            onChange={handleInputChange(setLevel)}\r\n                            min=\"1\"\r\n                            max=\"5\"\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"mb-6\">\r\n                        <label htmlFor=\"completed\" className=\"block text-gray-700 font-medium mb-2\">Completed</label>\r\n                        <select\r\n                            id=\"completed\"\r\n                            value={completed}\r\n                            onChange={handleInputChange(setCompleted)}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                            <option value=\"false\">No</option>\r\n                            <option value=\"true\">Yes</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition\"\r\n                        disabled={loading}\r\n                    >\r\n                        {loading ? 'Submitting...' : 'Submit Task'}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n     \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostTask;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}