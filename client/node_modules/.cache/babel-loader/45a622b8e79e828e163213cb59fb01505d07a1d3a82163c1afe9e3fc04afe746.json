{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{FaExclamationCircle,FaCheckCircle,FaClock}from\"react-icons/fa\";import Navbar from\"../components/Navbar\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Alert=_ref=>{let{userId}=_ref;const[alerts,setAlerts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{if(!userId){setError(\"User ID is missing.\");setLoading(false);return;}axios.get(\"https://gessamubackend.onrender.com/alert/takeAlert/\".concat(userId)).then(response=>setAlerts(response.data.alerts)).catch(err=>{var _err$response,_err$response$data;return setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"An error occurred while fetching alerts\");}).finally(()=>setLoading(false));},[userId]);if(loading)return/*#__PURE__*/_jsx(Loader,{});if(error)return/*#__PURE__*/_jsx(Message,{text:error,color:\"text-red-600\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-700 mb-6 text-center\",children:\"\\uD83D\\uDCE2 Your Alerts\"}),alerts.length===0?/*#__PURE__*/_jsx(Message,{text:\"No alerts available\",color:\"text-gray-500\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:alerts.map(_ref2=>{let{_id,message,status}=_ref2;return/*#__PURE__*/_jsx(AlertItem,{message:message,status:status},_id);})})]})]});};const Loader=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-t-red-600 border-b-green-600 border-l-white border-r-white rounded-full animate-spin\"})});const Message=_ref3=>{let{text,color}=_ref3;return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-32 font-semibold text-lg \".concat(color),children:text});};const AlertItem=_ref4=>{let{message,status}=_ref4;return/*#__PURE__*/_jsxs(\"li\",{className:\"p-4 flex items-center space-x-4 rounded-md shadow-md hover:scale-105 transition-all \".concat(getStatusColor(status)),children:[getStatusIcon(status),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium mt-1\",children:status})]})]});};const getStatusColor=status=>{const colors={urgent:\"bg-red-500 text-white\",pending:\"bg-yellow-500 text-black\",resolved:\"bg-green-500 text-white\"};return colors[status.toLowerCase()]||\"bg-gray-500 text-white\";};const getStatusIcon=status=>{const icons={urgent:/*#__PURE__*/_jsx(FaExclamationCircle,{className:\"text-2xl text-white\"}),pending:/*#__PURE__*/_jsx(FaClock,{className:\"text-2xl text-black\"}),resolved:/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-2xl text-white\"})};return icons[status.toLowerCase()]||/*#__PURE__*/_jsx(FaExclamationCircle,{className:\"text-2xl text-white\"});};export default Alert;","map":{"version":3,"names":["React","useState","useEffect","axios","FaExclamationCircle","FaCheckCircle","FaClock","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Alert","_ref","userId","alerts","setAlerts","loading","setLoading","error","setError","get","concat","then","response","data","catch","err","_err$response","_err$response$data","message","finally","Loader","Message","text","color","children","className","length","map","_ref2","_id","status","AlertItem","_ref3","_ref4","getStatusColor","getStatusIcon","colors","urgent","pending","resolved","toLowerCase","icons"],"sources":["C:/Users/user/Desktop/GIS/client/src/pages/Alert.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FaExclamationCircle, FaCheckCircle, FaClock } from \"react-icons/fa\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nconst Alert = ({ userId }) => {\r\n    const [alerts, setAlerts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!userId) {\r\n            setError(\"User ID is missing.\");\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        axios.get(`https://gessamubackend.onrender.com/alert/takeAlert/${userId}`)\r\n            .then(response => setAlerts(response.data.alerts))\r\n            .catch(err => setError(err.response?.data?.message || \"An error occurred while fetching alerts\"))\r\n            .finally(() => setLoading(false));\r\n    }, [userId]);\r\n\r\n    if (loading) return <Loader />;\r\n    if (error) return <Message text={error} color=\"text-red-600\" />;\r\n\r\n    return (\r\n        <>\r\n            <Navbar />\r\n            <div className=\"max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-lg border border-gray-200\">\r\n                <h2 className=\"text-2xl font-bold text-blue-700 mb-6 text-center\">ðŸ“¢ Your Alerts</h2>\r\n                {alerts.length === 0 ? (\r\n                    <Message text=\"No alerts available\" color=\"text-gray-500\" />\r\n                ) : (\r\n                    <ul className=\"space-y-4\">\r\n                        {alerts.map(({ _id, message, status }) => (\r\n                            <AlertItem key={_id} message={message} status={status} />\r\n                        ))}\r\n                    </ul>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst Loader = () => (\r\n    <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"w-16 h-16 border-4 border-t-red-600 border-b-green-600 border-l-white border-r-white rounded-full animate-spin\"></div>\r\n    </div>\r\n);\r\n\r\nconst Message = ({ text, color }) => (\r\n    <div className={`flex justify-center items-center h-32 font-semibold text-lg ${color}`}>{text}</div>\r\n);\r\n\r\nconst AlertItem = ({ message, status }) => (\r\n    <li className={`p-4 flex items-center space-x-4 rounded-md shadow-md hover:scale-105 transition-all ${getStatusColor(status)}`}>\r\n        {getStatusIcon(status)}\r\n        <div>\r\n            <p className=\"text-lg font-semibold\">{message}</p>\r\n            <p className=\"text-sm font-medium mt-1\">{status}</p>\r\n        </div>\r\n    </li>\r\n);\r\n\r\nconst getStatusColor = (status) => {\r\n    const colors = {\r\n        urgent: \"bg-red-500 text-white\",\r\n        pending: \"bg-yellow-500 text-black\",\r\n        resolved: \"bg-green-500 text-white\",\r\n    };\r\n    return colors[status.toLowerCase()] || \"bg-gray-500 text-white\";\r\n};\r\n\r\nconst getStatusIcon = (status) => {\r\n    const icons = {\r\n        urgent: <FaExclamationCircle className=\"text-2xl text-white\" />,\r\n        pending: <FaClock className=\"text-2xl text-black\" />,\r\n        resolved: <FaCheckCircle className=\"text-2xl text-white\" />,\r\n    };\r\n    return icons[status.toLowerCase()] || <FaExclamationCircle className=\"text-2xl text-white\" />;\r\n};\r\n\r\nexport default Alert;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}