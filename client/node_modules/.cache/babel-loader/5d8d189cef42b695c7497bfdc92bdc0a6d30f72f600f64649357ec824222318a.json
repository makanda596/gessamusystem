{"ast":null,"code":"import React,{useState}from'react';import Navbar from'../components/Navbar';import{FaUserCircle}from\"react-icons/fa\";import{useAuthStore}from'../store/auth';import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Settings=()=>{const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[email,setEmail]=useState('');const[phoneNumber,setPhoneNumber]=useState('');const[profilePicture,setProfilePicture]=useState(null);const[password,setPassword]=useState('');const[showDeletePopup,setShowDeletePopup]=useState(false);const[message,setMessage]=useState(\"\");const[showConfirm,setShowConfirm]=useState(false);const{logout}=useAuthStore();const handleSave=()=>{alert('Settings saved successfully!');};const handleDeleteAccount=()=>{setShowDeletePopup(true);};const logoutHandle=async()=>{try{await logout();window.location.href=\"/\";}catch(error){alert(error.message);}};const deleteStudent=async()=>{try{await axios.delete(\"https://gessamubackend.onrender.comauth/deleteUser/\");setMessage(\"account deleted successfully!\");window.location.href='/';}catch(error){console.error(\"Error deleting student:\",error);}setShowConfirm(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 text-white p-3 rounded mb-4 text-center\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 p-6 flex flex-col items-center w-full\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-blue-600 mb-6\",children:\"Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-14 rounded-lg shadow-md w-full max-w-4xl flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",value:firstName,onChange:e=>setFirstName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",value:lastName,onChange:e=>setLastName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",value:phoneNumber,onChange:e=>setPhoneNumber(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700\",children:\"Profile Picture\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",onChange:e=>setProfilePicture(e.target.files[0])})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition-all mt-6\",onClick:handleSave,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition-all mt-4\",onClick:handleDeleteAccount,children:\"Delete Account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/4 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(FaUserCircle,{className:\"text-4xl h-32 w-32 rounded-full mb-4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logoutHandle,className:\"bg-gray-800 text-white py-2 px-4 rounded hover:bg-gray-900 transition-all\",children:\"Logout\"})]})]})]}),showDeletePopup&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Close Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mt-2\",children:\"Are you sure you want to delete your account? You will lose all your data.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-gray-300 rounded\",onClick:()=>setShowDeletePopup(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-red-500 text-white rounded\",onClick:deleteStudent,children:\"Confirm\"})]})]})})]});};export default Settings;","map":{"version":3,"names":["React","useState","Navbar","FaUserCircle","useAuthStore","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Settings","firstName","setFirstName","lastName","setLastName","email","setEmail","phoneNumber","setPhoneNumber","profilePicture","setProfilePicture","password","setPassword","showDeletePopup","setShowDeletePopup","message","setMessage","showConfirm","setShowConfirm","logout","handleSave","alert","handleDeleteAccount","logoutHandle","window","location","href","error","deleteStudent","delete","console","children","className","type","value","onChange","e","target","files","onClick"],"sources":["C:/Users/user/Desktop/GIS/client/src/components/Navbar.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Navbar from '../components/Navbar';\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport { useAuthStore } from '../store/auth';\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Settings = () => {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [password, setPassword] = useState('');\r\n  const [showDeletePopup, setShowDeletePopup] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n\r\n\r\n  const { logout } = useAuthStore();\r\n\r\n  const handleSave = () => {\r\n    alert('Settings saved successfully!');\r\n  };\r\n\r\n  const handleDeleteAccount = () => {\r\n    setShowDeletePopup(true);\r\n  };\r\n\r\n\r\n\r\n  const logoutHandle = async () => {\r\n    try {\r\n      await logout();\r\n      window.location.href = \"/\";\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  const deleteStudent = async () => {\r\n    try {\r\n      await axios.delete(`https://gessamubackend.onrender.comauth/deleteUser/`);\r\n      setMessage(\"account deleted successfully!\");\r\n      window.location.href = '/'\r\n    } catch (error) {\r\n      console.error(\"Error deleting student:\", error);\r\n    }\r\n    setShowConfirm(false);\r\n  };\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      {message && <div className=\"bg-green-500 text-white p-3 rounded mb-4 text-center\">{message}</div>}\r\n\r\n      <div className=\"min-h-screen bg-gray-100 p-6 flex flex-col items-center w-full\">\r\n        <h1 className=\"text-2xl font-bold text-blue-600 mb-6\">Settings</h1>\r\n        <div className=\"bg-white p-14 rounded-lg shadow-md w-full max-w-4xl flex\">\r\n          <div className=\"w-3/4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-gray-700\">First Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  value={firstName}\r\n                  onChange={(e) => setFirstName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700\">Last Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  value={lastName}\r\n                  onChange={(e) => setLastName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-gray-700\">Phone Number</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  value={phoneNumber}\r\n                  onChange={(e) => setPhoneNumber(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-gray-700\">Profile Picture</label>\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  onChange={(e) => setProfilePicture(e.target.files[0])}\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition-all mt-6\"\r\n              onClick={handleSave}\r\n            >\r\n              Save Changes\r\n            </button>\r\n            <button\r\n              className=\"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition-all mt-4\"\r\n              onClick={handleDeleteAccount}\r\n            >\r\n              Delete Account\r\n            </button>\r\n          </div>\r\n          <div className=\"w-1/4 flex flex-col items-center\">\r\n            <FaUserCircle className=\"text-4xl h-32 w-32 rounded-full mb-4\" />\r\n            <button onClick={logoutHandle} className=\"bg-gray-800 text-white py-2 px-4 rounded hover:bg-gray-900 transition-all\">Logout</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showDeletePopup && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-96\">\r\n            <h2 className=\"text-xl font-bold\">Close Account</h2>\r\n            <p className=\"text-gray-700 mt-2\">Are you sure you want to delete your account? You will lose all your data.</p>\r\n            <div className=\"mt-4 flex justify-end gap-4\">\r\n              <button className=\"px-4 py-2 bg-gray-300 rounded\" onClick={() => setShowDeletePopup(false)}>Cancel</button>\r\n              <button className=\"px-4 py-2 bg-red-500 text-white rounded\" onClick={deleteStudent}>Confirm</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}