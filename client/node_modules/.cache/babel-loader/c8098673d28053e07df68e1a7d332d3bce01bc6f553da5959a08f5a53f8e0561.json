{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GetTask=()=>{const[tasks,setTasks]=useState([]);const[filteredTasks,setFilteredTasks]=useState([]);const[error,setError]=useState('');const[loading,setLoading]=useState(true);const[searchQuery,setSearchQuery]=useState('');const fetchTasks=async()=>{try{const response=await axios.get('https://gessamubackend.onrender.com/task/takeTask');setTasks(response.data);setFilteredTasks(response.data);}catch(err){setError('Failed to fetch tasks. Please try again later.');}finally{setLoading(false);}};useEffect(()=>{fetchTasks();},[]);const handleSearch=e=>{const query=e.target.value.toLowerCase();setSearchQuery(query);setFilteredTasks(tasks.filter(task=>task.task&&task.task.toLowerCase().includes(query)||task.description&&task.description.toLowerCase().includes(query)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen w-full p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center text-blue-600 mb-8\",children:\"All Tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto mb-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search tasks...\",className:\"w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",value:searchQuery,onChange:handleSearch})}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"Loading tasks...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500\",children:error}),filteredTasks.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-700\",children:task.task}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mt-2\",children:task.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Level:\"}),\" \",task.level]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Due:\"}),\" \",new Date(task.date).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm \".concat(task.completed?'text-green-600':'text-red-600'),children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",task.completed?'Completed':'Pending']})]},task._id))}):!loading&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"No tasks found.\"})]});};export default GetTask;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","GetTask","tasks","setTasks","filteredTasks","setFilteredTasks","error","setError","loading","setLoading","searchQuery","setSearchQuery","fetchTasks","response","get","data","err","handleSearch","e","query","target","value","toLowerCase","filter","task","includes","description","className","children","type","placeholder","onChange","length","map","level","Date","date","toLocaleString","concat","completed","_id"],"sources":["C:/Users/user/Desktop/GIS/client/src/pages/ADMIN/GetTask.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst GetTask = () => {\r\n    const [tasks, setTasks] = useState([]);\r\n    const [filteredTasks, setFilteredTasks] = useState([]);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const fetchTasks = async () => {\r\n        try {\r\n            const response = await axios.get('https://gessamubackend.onrender.com/task/takeTask');\r\n            setTasks(response.data);\r\n            setFilteredTasks(response.data);\r\n        } catch (err) {\r\n            setError('Failed to fetch tasks. Please try again later.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchTasks();\r\n    }, []);\r\n\r\n    const handleSearch = (e) => {\r\n        const query = e.target.value.toLowerCase();\r\n        setSearchQuery(query);\r\n        setFilteredTasks(\r\n            tasks.filter(\r\n                (task) =>\r\n                    (task.task && task.task.toLowerCase().includes(query)) ||\r\n                    (task.description && task.description.toLowerCase().includes(query))\r\n            )\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full p-8\">\r\n            <h1 className=\"text-4xl font-bold text-center text-blue-600 mb-8\">All Tasks</h1>\r\n\r\n            <div className=\"max-w-md mx-auto mb-6\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search tasks...\"\r\n                    className=\"w-full p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    value={searchQuery}\r\n                    onChange={handleSearch}\r\n                />\r\n            </div>\r\n\r\n            {loading && <p className=\"text-center text-gray-600\">Loading tasks...</p>}\r\n            {error && <p className=\"text-center text-red-500\">{error}</p>}\r\n\r\n            {filteredTasks.length > 0 ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    {filteredTasks.map((task) => (\r\n                        <div key={task._id} className=\"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition\">\r\n                            <h2 className=\"text-2xl font-bold text-blue-700\">{task.task}</h2>\r\n                            <p className=\"text-gray-700 mt-2\">{task.description}</p>\r\n                            <p className=\"text-sm text-gray-500 mt-4\">\r\n                                <strong>Level:</strong> {task.level}\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                <strong>Due:</strong> {new Date(task.date).toLocaleString()}\r\n                            </p>\r\n                            <p className={`mt-4 text-sm ${task.completed ? 'text-green-600' : 'text-red-600'}`}>\r\n                                <strong>Status:</strong> {task.completed ? 'Completed' : 'Pending'}\r\n                            </p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                !loading && <p className=\"text-center text-gray-600\">No tasks found.</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GetTask;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}