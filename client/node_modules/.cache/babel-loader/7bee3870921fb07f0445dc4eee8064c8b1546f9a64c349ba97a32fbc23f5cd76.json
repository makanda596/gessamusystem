{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\GIS\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { Routes, Route, BrowserRouter, Navigate } from \"react-router-dom\";\nimport Home from \"./pages/Home.jsx\";\nimport Login from \"./pages/Login.jsx\";\nimport Signup from \"./pages/signup.jsx\";\nimport { useAuthStore } from \"./utilis/auth.js\";\nimport Settings from \"./pages/Settings.jsx\";\nimport { useEffect } from \"react\";\n// import axios from 'axios'\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    isAuthenticated\n  } = useAuthStore();\n  return isAuthenticated ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 39\n  }, this);\n};\n\n// Redirect authenticated users to the home page\n_s(ProtectedRoute, \"3lj5uG6xHIV1uLZ3pMJuafwGAeQ=\", false, function () {\n  return [useAuthStore];\n});\n_c = ProtectedRoute;\nconst RedirectAuthenticatedUser = ({\n  children\n}) => {\n  _s2();\n  const {\n    isAuthenticated\n  } = useAuthStore();\n  return isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/home\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 28\n  }, this) : children;\n};\n_s2(RedirectAuthenticatedUser, \"3lj5uG6xHIV1uLZ3pMJuafwGAeQ=\", false, function () {\n  return [useAuthStore];\n});\n_c2 = RedirectAuthenticatedUser;\nfunction App() {\n  _s3();\n  // const [details, setDetails] = useState(null);\n  const {\n    isCheckingAuth,\n    checkAuth\n  } = useAuthStore();\n  // useEffect(() => {\n  //   const fetchDetails = async () => {\n  //     try {\n  //       const token = localStorage.getItem(\"token\");\n  //       if (!token) return console.log(\"No token found. Please log in.\");\n\n  //       const response = await axios.get('http://localhost:5000/auth/profile', {\n  //         headers: { Authorization: `Bearer ${token}` },\n  //         withCredentials: true,\n  //       });\n\n  //       setDetails(response.data);\n  //     } catch (error) {\n  //       console.log(\"Failed to fetch user details. Please log in.\", error);\n  //     }\n  //   };\n\n  //   fetchDetails();\n  // }, []);\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // Checking authentication - show loading screen\n  if (isCheckingAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" items-center justify-center min-h-screen hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-t-red-600 border-b-green-600 border-l-white border-r-white rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/settings\",\n            element: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(RedirectAuthenticatedUser, {\n              children: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 63\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/home\",\n            element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n              children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 56\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            element: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this)\n    }, void 0, false);\n  }\n}\n_s3(App, \"GSJYunmXO1ALhngxS/wYXFP3n1c=\", false, function () {\n  return [useAuthStore];\n});\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"RedirectAuthenticatedUser\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["Routes","Route","BrowserRouter","Navigate","Home","Login","Signup","useAuthStore","Settings","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","ProtectedRoute","children","_s","isAuthenticated","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","_c","RedirectAuthenticatedUser","_s2","_c2","App","_s3","isCheckingAuth","checkAuth","className","path","element","_c3","$RefreshReg$"],"sources":["C:/Users/user/Desktop/GIS/client/src/App.jsx"],"sourcesContent":["import { Routes, Route, BrowserRouter, Navigate } from \"react-router-dom\"\nimport Home from \"./pages/Home.jsx\"\nimport Login from \"./pages/Login.jsx\"\nimport Signup from \"./pages/signup.jsx\"\nimport { useAuthStore } from \"./utilis/auth.js\";\nimport Settings from \"./pages/Settings.jsx\";\nimport { useEffect  } from \"react\";\n// import axios from 'axios'\n\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated } = useAuthStore();\n  return isAuthenticated ? children : <Navigate to=\"/\" replace />;\n};\n\n// Redirect authenticated users to the home page\nconst RedirectAuthenticatedUser = ({ children }) => {\n  const { isAuthenticated } = useAuthStore();\n  return isAuthenticated ? <Navigate to=\"/home\" replace /> : children;\n};\n\nfunction App() {\n  // const [details, setDetails] = useState(null);\n  const { isCheckingAuth, checkAuth } = useAuthStore();\n  // useEffect(() => {\n  //   const fetchDetails = async () => {\n  //     try {\n  //       const token = localStorage.getItem(\"token\");\n  //       if (!token) return console.log(\"No token found. Please log in.\");\n\n  //       const response = await axios.get('http://localhost:5000/auth/profile', {\n  //         headers: { Authorization: `Bearer ${token}` },\n  //         withCredentials: true,\n  //       });\n\n  //       setDetails(response.data);\n  //     } catch (error) {\n  //       console.log(\"Failed to fetch user details. Please log in.\", error);\n  //     }\n  //   };\n\n  //   fetchDetails();\n  // }, []);\n\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  // Checking authentication - show loading screen\n  if (isCheckingAuth) {\n    return (\n\n      <div className=\" items-center justify-center min-h-screen hidden\" >\n        <div className=\"w-16 h-16 border-4 border-t-red-600 border-b-green-600 border-l-white border-r-white rounded-full animate-spin\"></div>\n      </div>\n    );\n  } else {\n  return (\n    <>\n    \n      <BrowserRouter>\n    <Routes>\n      <Route path=\"/settings\" element={<Settings />} />\n          <Route path=\"/\" element={<RedirectAuthenticatedUser><Login /></RedirectAuthenticatedUser>} />\n          <Route path=\"/home\" element={<ProtectedRoute><Home /></ProtectedRoute>} />\n      <Route path='/signup' element={<Signup />} />\n    </Routes>\n      </BrowserRouter>\n    </>\n  )\n}}\n\nexport default App\n"],"mappings":";;;;AAAA,SAASA,MAAM,EAAEC,KAAK,EAAEC,aAAa,EAAEC,QAAQ,QAAQ,kBAAkB;AACzE,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,MAAM,MAAM,oBAAoB;AACvC,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,SAASC,SAAS,QAAS,OAAO;AAClC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEA,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAM;IAAEC;EAAgB,CAAC,GAAGV,YAAY,CAAC,CAAC;EAC1C,OAAOU,eAAe,GAAGF,QAAQ,gBAAGJ,OAAA,CAACR,QAAQ;IAACe,EAAE,EAAC,GAAG;IAACC,OAAO;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACjE,CAAC;;AAED;AAAAP,EAAA,CALMF,cAAc;EAAA,QACUP,YAAY;AAAA;AAAAiB,EAAA,GADpCV,cAAc;AAMpB,MAAMW,yBAAyB,GAAGA,CAAC;EAAEV;AAAS,CAAC,KAAK;EAAAW,GAAA;EAClD,MAAM;IAAET;EAAgB,CAAC,GAAGV,YAAY,CAAC,CAAC;EAC1C,OAAOU,eAAe,gBAAGN,OAAA,CAACR,QAAQ;IAACe,EAAE,EAAC,OAAO;IAACC,OAAO;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,GAAGR,QAAQ;AACrE,CAAC;AAACW,GAAA,CAHID,yBAAyB;EAAA,QACDlB,YAAY;AAAA;AAAAoB,GAAA,GADpCF,yBAAyB;AAK/B,SAASG,GAAGA,CAAA,EAAG;EAAAC,GAAA;EACb;EACA,MAAM;IAAEC,cAAc;IAAEC;EAAU,CAAC,GAAGxB,YAAY,CAAC,CAAC;EACpD;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAGAE,SAAS,CAAC,MAAM;IACdsB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;;EAEf;EACA,IAAID,cAAc,EAAE;IAClB,oBAEEnB,OAAA;MAAKqB,SAAS,EAAC,kDAAkD;MAAAjB,QAAA,eAC/DJ,OAAA;QAAKqB,SAAS,EAAC;MAAgH;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnI,CAAC;EAEV,CAAC,MAAM;IACP,oBACEZ,OAAA,CAAAE,SAAA;MAAAE,QAAA,eAEEJ,OAAA,CAACT,aAAa;QAAAa,QAAA,eAChBJ,OAAA,CAACX,MAAM;UAAAe,QAAA,gBACLJ,OAAA,CAACV,KAAK;YAACgC,IAAI,EAAC,WAAW;YAACC,OAAO,eAAEvB,OAAA,CAACH,QAAQ;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7CZ,OAAA,CAACV,KAAK;YAACgC,IAAI,EAAC,GAAG;YAACC,OAAO,eAAEvB,OAAA,CAACc,yBAAyB;cAAAV,QAAA,eAACJ,OAAA,CAACN,KAAK;gBAAAe,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA2B;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7FZ,OAAA,CAACV,KAAK;YAACgC,IAAI,EAAC,OAAO;YAACC,OAAO,eAAEvB,OAAA,CAACG,cAAc;cAAAC,QAAA,eAACJ,OAAA,CAACP,IAAI;gBAAAgB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAgB;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC9EZ,OAAA,CAACV,KAAK;YAACgC,IAAI,EAAC,SAAS;YAACC,OAAO,eAAEvB,OAAA,CAACL,MAAM;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ;IAAC,gBAChB,CAAC;EAEP;AAAC;AAACM,GAAA,CAlDOD,GAAG;EAAA,QAE4BrB,YAAY;AAAA;AAAA4B,GAAA,GAF3CP,GAAG;AAoDZ,eAAeA,GAAG;AAAA,IAAAJ,EAAA,EAAAG,GAAA,EAAAQ,GAAA;AAAAC,YAAA,CAAAZ,EAAA;AAAAY,YAAA,CAAAT,GAAA;AAAAS,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}